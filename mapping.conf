# file extension to mime-type mapping
# kind of workaround because nginx can detect mime-type only for local file
map $extension $detect_content_type {
    ~*^xml|rss|xls$       text/xml;
    ~*^atom$              application/atom+xml;
    ~*^xhtml$             application/xhtml+xml;

    ~*^shtml|htm|html$    text/html;
    ~*^htc$               text/x-component;
    ~*^manifest|appcache$ text/cache-manifest;

    ~*^css$               text/css;
    ~*^json$              application/json;
    ~*^jsonld$            application/ld+json;
    ~*^coffee$            text/x-coffeescript;
    ~*^js$                application/x-javascript;

    ~*^vcf|vcard$         text/vcard;

    ~*^swf$               application/x-shockwave-flash;
    ~*^woff$              application/font-woff;
    ~*^kml$               application/vnd.google-earth.kml+xml;

    default               '';
}

map $extension $content_type_charset_string {
    ~*^swf|woff|kml$ '';
    default          '; charset=utf-8';
}
